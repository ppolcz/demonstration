<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>27.3 More Testing for Developers - DOES NOT WORK 2001</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/mn.html)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/mn.html)"> 
<!-- html,index=2,3 --> 
<meta name="src" content="NCBIGDOC.tex"> 
<meta name="date" content="2010-01-06 13:19:00"> 
<link rel="stylesheet" type="text/css" href="NCBIGDOC.css"> 
</head><body 
>
   <!--l. 138--><div class="crosslinks"><p class="noindent"><span 
class="cmr-10x-x-109">[</span><a 
href="NCBIGDOCse99.html" ><span 
class="cmr-10x-x-109">prev</span></a><span 
class="cmr-10x-x-109">] [</span><a 
href="NCBIGDOCse99.html#tailNCBIGDOCse99.html" ><span 
class="cmr-10x-x-109">prev-tail</span></a><span 
class="cmr-10x-x-109">] [</span><a 
href="#tailNCBIGDOCse100.html"><span 
class="cmr-10x-x-109">tail</span></a><span 
class="cmr-10x-x-109">] [</span><a 
href="NCBIGDOCch27.html#NCBIGDOCse100.html" ><span 
class="cmr-10x-x-109">up</span></a><span 
class="cmr-10x-x-109">] </span></p></div>
   <h3 class="sectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">27.3   </span></span> <a 
 id="x158-35900027.3"></a><span 
class="cmr-10x-x-109">More Testing for Developers - DOES NOT WORK 2001</span></h3>
<!--l. 140--><p class="noindent"><span 
class="cmr-10x-x-109">This section is for heavier testing than above, say of a new version of</span>
<span 
class="cmr-10x-x-109">NCGB.</span><span class="footnote-mark"><a 
href="NCBIGDOC159.html#fn1x120"><sup >1</sup></a></span><a 
 id="x158-359001f1"></a>
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">27.3.1   </span></span> <a 
 id="x158-36000027.3.1"></a> <span 
class="cmr-10x-x-109">Setting the Testing Environment</span></h4>
<!--l. 155--><p class="noindent"><span 
class="cmr-10x-x-109">The file </span><span 
class="cmbx-10x-x-109">TestingEnvironment.m </span><span 
class="cmr-10x-x-109">has four commands that may require editing. This file basically</span>
<span 
class="cmr-10x-x-109">defines the directories where the testing is being done, where the sample problems are stored,</span>
<span 
class="cmr-10x-x-109">where the results from the test are outputed and where the trusted reference answers are</span>
<span 
class="cmr-10x-x-109">kept.</span>
<!--l. 160--><p class="indent">   <span 
class="cmr-10x-x-109">The command </span><span 
class="cmbx-10x-x-109">$NC$TestPrefix$ </span><span 
class="cmr-10x-x-109">defines where the testing is being done. Its default value is</span>
<span 
class="cmbx-10x-x-109">&#x00A0;/NC/NCGB/Testing/</span><span 
class="cmr-10x-x-109">, and should not be monkeyed with unless you have created your own testing</span>
<span 
class="cmr-10x-x-109">directory.</span>
<!--l. 164--><p class="indent">   <span 
class="cmbx-10x-x-109">$NC$TestInput$ </span><span 
class="cmr-10x-x-109">defines where the test problems are kept. If you have some test problems of your</span>
<span 
class="cmr-10x-x-109">own, you may test them by giving the path to them as the value. The default is</span>
   <div  
class="centerline">             <span 
class="cmbx-10x-x-109">$NC$TestInput$ = &#8221;StringJoin[$NC$TestPrefix$,&#8221;TestProblems/&#8221;]</span>           </div>
<!--l. 172--><p class="indent">   <span 
class="cmr-10x-x-109">If you do several tests, you can keep the results in separate directories by giving</span>
   <div  
class="centerline">                                    <span 
class="cmbx-10x-x-109">$NC$TestResults$ </span><span 
class="cmr-10x-x-109">the path as its value.</span>                                     </div>
<!--l. 177--><p class="indent">   <span 
class="cmr-10x-x-109">The default setting is</span>
   <div  
class="centerline">             <span 
class="cmbx-10x-x-109">$NC$TestResults$ = &#8221;StringJoin[$NC$TestPrefix$,&#8221;TestResults/&#8221;]</span>            </div>
<!--l. 182--><p class="indent">   <span 
class="cmbx-10x-x-109">$NC$TestReferences$ </span><span 
class="cmr-10x-x-109">defines the directory in which the trusted answers to the test problems are</span>
<span 
class="cmr-10x-x-109">stored. When you run the test, the files in </span><span 
class="cmti-10x-x-109">TestResults </span><span 
class="cmr-10x-x-109">will be compared to these reference files. Also if you</span>
<span 
class="cmr-10x-x-109">are creating your own reference files, you may want to redefine the path to avoid overwriting the answer</span>
<span 
class="cmr-10x-x-109">we so helpfully provide. The default is</span>
   <div  
class="centerline">        <span 
class="cmbx-10x-x-109">$NC$TestReferences$ = &#8221;StringJoin[$NC$TestPrefix$,&#8221;TestReferences/&#8221;]</span>       </div>
<!--l. 191--><p class="indent">   <span 
class="cmr-10x-x-109">Remember, before doing anything, make sure the </span><span 
class="cmbx-10x-x-109">TestingEnvironment.m </span><span 
class="cmr-10x-x-109">file has the right</span>
<span 
class="cmr-10x-x-109">definitions to avoid sending files in all directions.</span>
<!--l. 198--><p class="noindent"><span 
class="cmbx-10x-x-109">Creating Test Results</span>
<!--l. 202--><p class="indent">   <span 
class="cmr-10x-x-109">To create a set of test outputs stay in the </span><span 
class="cmti-10x-x-109">Testing </span><span 
class="cmr-10x-x-109">directory. Make sure you have lots of test problem</span>
<span 
class="cmr-10x-x-109">files in the </span><span 
class="cmti-10x-x-109">TestProblems </span><span 
class="cmr-10x-x-109">directory; say c01.data.m thru c85.data.m. Make sure the </span><span 
class="cmti-10x-x-109">TestReference </span><span 
class="cmr-10x-x-109">directory</span>
<span 
class="cmr-10x-x-109">is loaded with files generated by applying a version of NCGB that you trust to the problems in</span>
<span 
class="cmti-10x-x-109">TestProblems</span><span 
class="cmr-10x-x-109">. This should be the case because the package NCGB is shipped with such a collection of</span>
<span 
class="cmr-10x-x-109">sample answers.</span>
<!--l. 213--><p class="indent">   <span 
class="cmr-10x-x-109">Edit 2 lines in the file</span>
   <div  
class="centerline">                                                   <span 
class="cmbx-10x-x-109">init.TestResults.m</span>                                            </div>
<!--l. 217--><p class="indent">   <span 
class="cmr-10x-x-109">to put in the path to the version of NCGB that you want to test.</span>
<!--l. 220--><p class="indent">   <span 
class="cmbx-10x-x-109">Copy the file</span>
   <div  
class="centerline">                                          <span 
class="cmbx-10x-x-109">init.TestReferences.m</span>                                         </div> <span 
class="cmbx-10x-x-109">to</span>
<span 
class="cmbx-10x-x-109">the file init.m</span>
<!--l. 226--><p class="indent">   <span 
class="cmbx-10x-x-109">Run </span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;Mathematica.</span>

<!--l. 229--><p class="indent">   <span 
class="cmbx-10x-x-109">Load </span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;NCGBTestCreate.m</span>
<!--l. 231--><p class="indent">   <span 
class="cmbx-10x-x-109">Run</span>
   <div  
class="centerline">                                <span 
class="cmbx-10x-x-109">NCGBTestCreate[Integer1, Integer2]</span>                               </div>
<!--l. 235--><p class="indent">   <span 
class="cmbx-10x-x-109">Exit Mma</span>
<!--l. 238--><p class="noindent"><span 
class="cmr-10x-x-109">Here the arguments Integer must be a non-negative integer, satisfying Integer1 </span><span 
class="cmsy-10x-x-109">&#x2264; </span><span 
class="cmr-10x-x-109">Integer2 </span><span 
class="cmsy-10x-x-109">&#x2264; </span><span 
class="cmr-10x-x-109">85 This</span>
<span 
class="cmr-10x-x-109">creates a set of files of answers obtained from NCProcess labelled</span>
   <div  
class="centerline">                                                         <span 
class="cmbx-10x-x-109">cN.out.tex</span>                                                 </div>
<!--l. 245--><p class="noindent"><span 
class="cmr-10x-x-109">where N is an integer between Integer1 and Integer2. They are stored in the directory </span><span 
class="cmti-10x-x-109">TestResults</span><span 
class="cmr-10x-x-109">.</span>
<!--l. 249--><p class="indent">   <span 
class="cmr-10x-x-109">If you want to test a program besides NCProcess you can use</span>
   <div  
class="centerline">                         <span 
class="cmbx-10x-x-109">NCGBTestCreate[Integer1,Integer2,FunctionName]</span>                      </div>
<!--l. 253--><p class="noindent"><span 
class="cmr-10x-x-109">Label whichever program you want to test with FunctionName. For example, the name NCMakeGBFunction</span>
<span 
class="cmr-10x-x-109">has already been assigned to NCMakeGB, so running</span>
   <div  
class="centerline">                    <span 
class="cmbx-10x-x-109">NCGBTestCreate[Integer1,Integer2,NCMakeGBFunction ]</span>                 </div>
<!--l. 260--><p class="noindent"><span 
class="cmr-10x-x-109">will create files for testing NCMakeGB.</span>
<!--l. 265--><p class="noindent"><span 
class="cmbx-10x-x-109">Comparing to Reference Code</span>
<!--l. 268--><p class="noindent"><span 
class="cmr-10x-x-109">While in the testing directory</span>
<!--l. 272--><p class="indent">   <span 
class="cmbx-10x-x-109">Run</span>
<!--l. 274--><p class="indent">   <span 
class="cmbx-10x-x-109">NCGBTestCompare[ Integer, Integer] </span><span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;(* for *.tex files only *)</span>
<!--l. 276--><p class="noindent"><span 
class="cmr-10x-x-109">or to test programs other than NCProcess</span>
<!--l. 279--><p class="indent">   <span 
class="cmbx-10x-x-109">NCGBTestCompare[ Integer, Integer, suffix] </span><span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span>
<!--l. 281--><p class="indent">   <span 
class="cmr-10x-x-109">(* for example, suffix is &#8221;GB&#8221; only &#8212; remember the quotes *)</span>
<!--l. 284--><p class="noindent"><span 
class="cmr-10x-x-109">Go get a cup of coffee. When you come back look at the resulting screen output.</span>
<!--l. 292--><p class="noindent"><span 
class="cmr-10x-x-109">You should get</span>
   <div  
class="centerline">                                                    <span 
class="cmbx-10x-x-109">test #01 </span><span 
class="cmsy-10x-x-109">&#x2192; </span><span 
class="cmbx-10x-x-109">True</span>                                             </div>
<div  
class="centerline">                                    <span 
class="cmbx-10x-x-109">test #02 </span><span 
class="cmsy-10x-x-109">&#x2192; </span><span 
class="cmbx-10x-x-109">True</span>                                    </div>
<div  
class="centerline">                                          <span 
class="cmbx-10x-x-109">etc.</span>                                           </div>
<!--l. 299--><p class="noindent"><span 
class="cmr-10x-x-109">The command </span><span 
class="cmti-10x-x-109">NCGBTestCompare </span><span 
class="cmr-10x-x-109">has created answer files and compared them to the old reference</span>
<span 
class="cmr-10x-x-109">files.</span>
<!--l. 305--><p class="noindent"><span 
class="cmbx-10x-x-109">Creating Reference Answers</span>
<!--l. 308--><p class="indent">   <span 
class="cmr-10x-x-109">Maybe you do not like the reference results we provided to you (some people are not very grateful). To</span>
<span 
class="cmr-10x-x-109">create a new set of reference outputs stay in the </span><span 
class="cmti-10x-x-109">Testing </span><span 
class="cmr-10x-x-109">directory. Make sure you have lots of test problem</span>
<span 
class="cmr-10x-x-109">files in the </span><span 
class="cmti-10x-x-109">TestProblems </span><span 
class="cmr-10x-x-109">directory; say c01.data.m thru c78.data.m.</span>
<!--l. 316--><p class="indent">   <span 
class="cmr-10x-x-109">Edit 2 lines in the file</span>
   <div  
class="centerline">                                                 <span 
class="cmbx-10x-x-109">init.TestReference.m</span>                                          </div>
<!--l. 320--><p class="indent">   <span 
class="cmr-10x-x-109">to put in the path to the version of NCGB that you want as a reference.</span>
<!--l. 323--><p class="indent">   <span 
class="cmr-10x-x-109">Copy the file</span>
   <div  
class="centerline">                                    <span 
class="cmbx-10x-x-109">init.TestReferences.m </span><span 
class="cmr-10x-x-109">to the file </span><span 
class="cmbx-10x-x-109">init.m</span>                                </div>
<!--l. 328--><p class="indent">   <span 
class="cmbx-10x-x-109">Run </span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;Mathematica</span>
<!--l. 331--><p class="indent">   <span 
class="cmbx-10x-x-109">Load </span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;</span><span 
class="cmbx-10x-x-109">&#x00A0;NCGBTestCreate.m</span>
<!--l. 333--><p class="indent">   <span 
class="cmbx-10x-x-109">Run</span>
   <div  
class="centerline">                                <span 
class="cmbx-10x-x-109">NCGBTestCreate[Integer1, Integer2]</span>                                </div>
<!--l. 338--><p class="indent">   <span 
class="cmr-10x-x-109">This is beginning to look familiar. From here on proceed as you did in creating test files. This creates a</span>
<span 
class="cmr-10x-x-109">collection of files in the directory </span><span 
class="cmti-10x-x-109">TestReference</span><span 
class="cmr-10x-x-109">.</span>

   <!--l. 1--><div class="crosslinks"><p class="noindent"><span 
class="cmr-10x-x-109">[</span><a 
href="NCBIGDOCse99.html" ><span 
class="cmr-10x-x-109">prev</span></a><span 
class="cmr-10x-x-109">] [</span><a 
href="NCBIGDOCse99.html#tailNCBIGDOCse99.html" ><span 
class="cmr-10x-x-109">prev-tail</span></a><span 
class="cmr-10x-x-109">] [</span><a 
href="NCBIGDOCse100.html" ><span 
class="cmr-10x-x-109">front</span></a><span 
class="cmr-10x-x-109">] [</span><a 
href="NCBIGDOCch27.html#NCBIGDOCse100.html" ><span 
class="cmr-10x-x-109">up</span></a><span 
class="cmr-10x-x-109">] </span></p></div>
<!--l. 1--><p class="indent">   <a 
 id="tailNCBIGDOCse100.html"></a>   
</body></html> 
